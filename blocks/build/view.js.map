{"version":3,"file":"view.js","mappings":"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","sources":["webpack://blocks/./src/actions.js","webpack://blocks/external module \"@wordpress/interactivity\"","webpack://blocks/webpack/bootstrap","webpack://blocks/webpack/runtime/define property getters","webpack://blocks/webpack/runtime/hasOwnProperty shorthand","webpack://blocks/webpack/runtime/make namespace object","webpack://blocks/./src/view.js"],"sourcesContent":["export async function pageSpeed(urls, params) {\r\n  try {\r\n    const promises = urls.map(async (url) => {\r\n      const report = await fetch(\r\n        `https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=${url}&${params}&key=AIzaSyBEQiaTL4wMnMCQA2WABjuIAOXLaL5LUo0`\r\n      ).then((response) => {\r\n        return response.json();\r\n      });\r\n\r\n      let data = { url };\r\n      if (report?.lighthouseResult?.categories?.performance?.score) {\r\n        data = {\r\n          ...data,\r\n          performance: Math.round(\r\n            report?.lighthouseResult?.categories?.performance?.score * 100\r\n          )\r\n        };\r\n      }\r\n      if (report?.lighthouseResult?.categories?.accessibility?.score) {\r\n        data = {\r\n          ...data,\r\n          accessibility: Math.round(\r\n            report?.lighthouseResult?.categories?.accessibility?.score * 100\r\n          )\r\n        };\r\n      }\r\n      if (report?.lighthouseResult?.categories?.[\"best-practices\"]?.score) {\r\n        data = {\r\n          ...data,\r\n          best_practices: Math.round(\r\n            report?.lighthouseResult?.categories?.[\"best-practices\"]?.score *\r\n              100\r\n          )\r\n        };\r\n      }\r\n      if (report?.lighthouseResult?.categories?.seo?.score) {\r\n        data = {\r\n          ...data,\r\n          seo: Math.round(\r\n            report?.lighthouseResult?.categories?.seo?.score * 100\r\n          )\r\n        };\r\n      }\r\n      return data;\r\n    });\r\n\r\n    return await Promise.all(promises);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function getPages(url, params) {\r\n  try {\r\n    const response = await fetch(`${url}wp-json/wp/v2/pages${params}`);\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch data\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    const urls = data.map((page) => page?.link);\r\n\r\n    return {\r\n      totalPages: response?.headers.get(\"x-wp-totalpages\"),\r\n      totalEntries: response?.headers.get(\"x-wp-total\"),\r\n      urls\r\n    };\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getPosts(url, params) {\r\n  try {\r\n    const response = await fetch(`${url}wp-json/wp/v2/posts${params}`);\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch data\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    const urls = data.map((page) => page?.link);\r\n\r\n    return {\r\n      totalPages: response?.headers.get(\"x-wp-totalpages\"),\r\n      totalEntries: response?.headers.get(\"x-wp-total\"),\r\n      urls\r\n    };\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getCustomPostTypes(url, params) {\r\n  try {\r\n    const response = await fetch(`${url}wp-json/wp/v2/cpts${params}`);\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch data\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    const urls = data.map((page) => page?.link);\r\n\r\n    return {\r\n      totalPages: response?.headers.get(\"x-wp-totalpages\"),\r\n      totalEntries: response?.headers.get(\"x-wp-total\"),\r\n      urls\r\n    };\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext, getElement } from \"@wordpress/interactivity\";\nimport { getPages, getPosts, getCustomPostTypes, pageSpeed } from \"./actions\";\nconst { state, actions, callbacks } = store(\"pagespeed-app\", {\n  state: {\n    performanceSorted: false,\n    accessibilitySorted: false,\n    bestPracticesSorted: false,\n    seoSorted: false,\n    get isNotEmpty() {\n      return getContext().pagespeedResults.length > 0;\n    },\n    get isReportComplete() {\n      return (\n        JSON.stringify(getContext().post_types.sort()) ===\n        JSON.stringify(getContext().completed.sort())\n      );\n    },\n    get isPageSelected() {\n      return getContext().post_types.includes(\"page\");\n    },\n    get isPostSelected() {\n      return getContext().post_types.includes(\"post\");\n    },\n    get isCptsSelected() {\n      return getContext().post_types.includes(\"custom_post_type\");\n    },\n    get isPerformanceSelected() {\n      return getContext().category.includes(\"performance\");\n    },\n    get isAccessibility() {\n      return getContext().category.includes(\"accessibility\");\n    },\n    get isBestPracticesSelected() {\n      return getContext().category.includes(\"best-practices\");\n    },\n    get isSeoSelected() {\n      return getContext().category.includes(\"seo\");\n    },\n    get getPageProgressPercentage() {\n      const context = getContext();\n      const progress = Math.round(\n        (context.status.page.page / context.status.page.totalPages) * 100\n      );\n      return context.status.page.text == \"Error!\"\n        ? `Error!`\n        : `${progress < 5 ? \"5\" : progress}% complete!`;\n    },\n    get getPostProgressPercentage() {\n      const context = getContext();\n      const progress = Math.round(\n        (context.status.post.page / context.status.post.totalPages) * 100\n      );\n      return context.status.post.text == \"Error!\"\n        ? `Error!`\n        : `${progress < 5 ? \"5\" : progress}% complete!`;\n    },\n    get getCptsProgressPercentage() {\n      const context = getContext();\n      const progress = Math.round(\n        (context.status.cpts.page / context.status.cpts.totalPages) * 100\n      );\n      return context.status.cpts.text == \"Error!\"\n        ? `Error!`\n        : `${progress < 5 ? \"5\" : progress}% complete!`;\n    }\n  },\n  actions: {\n    submit: async () => {\n      const context = getContext();\n\n      callbacks.resetValues(context);\n      if (context.post_types.length <= 0) {\n        alert(\"Please select post a post type.\");\n      }\n      if (context.category.length <= 0) {\n        alert(\"Please select post a category.\");\n      }\n      if (callbacks.isUrlValid()) {\n        context.processing = true;\n        context.submitBtnText = \"Processing...\";\n\n        try {\n          if (context.post_types.includes(\"page\")) {\n            await actions.generateReportPages(context);\n          }\n          if (context.post_types.includes(\"post\")) {\n            await actions.generateReportPosts(context);\n          }\n          if (context.post_types.includes(\"custom_post_type\")) {\n            actions.generateReportCustomPostTypes(context);\n          }\n\n          // while (!context.isDone) {\n          //   console.log(context.isDone, context.page);\n          //   const query = `?page=${context.page}`;\n          //   const result = await getPages(context.url, query);\n          //   context.totalPages = result?.totalPages;\n          //   context.status = `Page ${context.page} out of ${context.totalPages}`;\n          //   const params = `strategy=${\n          //     context.device\n          //   }&category=${context.category.join(\"&category=\")}`;\n          //   const scores = await pageSpeed(result?.urls, params);\n          //   context.pagespeedResults = [...context.pagespeedResults, ...scores];\n\n          //   console.log(context.pagespeedResults);\n          //   if (context.page < parseInt(context.totalPages)) {\n          //     context.page += 1;\n          //   } else {\n          //     context.isDone = true;\n          //     context.status = \"\";\n          //   }\n          // }\n        } catch (error) {\n          console.log(error);\n          alert(\"Error: Make sure the site is powered by wordpress\");\n        } finally {\n          context.processing = false;\n          context.submitBtnText = \"Submit\";\n        }\n      } else {\n        alert(\"Invalid URL\");\n      }\n    },\n    generateReportPages: async (context) => {\n      try {\n        context.status.page.processing = true;\n        context.status.page.isDone = false;\n        let isDone = context.status.page.isDone;\n        let page = context.status.page.page;\n        let counter = 0;\n        while (!isDone) {\n          const query = `?page=${page}`;\n          const result = await getPages(context.url, query);\n          counter += result?.urls.length;\n          context.status.page.text = `Processing ${counter} out of ${result?.totalEntries}`;\n          context.status.page.totalPages = result?.totalPages;\n          context.status.page.totalEntries = result?.totalEntries;\n          const params = `strategy=${\n            context.device\n          }&category=${context.category.join(\"&category=\")}`;\n          const scores = await pageSpeed(result?.urls, params);\n          context.pagespeedResults = [...context.pagespeedResults, ...scores];\n\n          context.totalLinks += result?.urls.length;\n          // console.log(context.pagespeedResults);\n          if (page < parseInt(result?.totalPages)) {\n            context.status.page.page += 1;\n            page += 1;\n          } else {\n            isDone = true;\n            context.status.page.isDone = true;\n            context.status.page.processing = false;\n            context.status.page.text = \"Done!\";\n          }\n        }\n      } catch (error) {\n        context.status.page.text = \"Error!\";\n        context.status.page.processing = false;\n        context.status.page.isDone = true;\n      } finally {\n        context.completed = [...context.completed, \"page\"];\n      }\n    },\n    generateReportPosts: async (context) => {\n      try {\n        context.status.post.processing = true;\n        context.status.post.isDone = false;\n        let isDone = context.status.post.isDone;\n        let page = context.status.post.page;\n        let counter = 0;\n        while (!isDone) {\n          const query = `?page=${page}`;\n          const result = await getPosts(context.url, query);\n          counter += result?.urls.length;\n          context.status.post.text = `${counter} out of ${result?.totalEntries}`;\n          context.status.post.totalPages = result?.totalPages;\n          context.status.post.totalEntries = result?.totalEntries;\n          const params = `strategy=${\n            context.device\n          }&category=${context.category.join(\"&category=\")}`;\n          const scores = await pageSpeed(result?.urls, params);\n          context.pagespeedResults = [...context.pagespeedResults, ...scores];\n\n          context.totalLinks += result?.urls.length;\n          // console.log(context.pagespeedResults);\n          if (page < parseInt(result?.totalPages)) {\n            context.status.post.page += 1;\n            page += 1;\n          } else {\n            isDone = true;\n            context.status.post.isDone = true;\n            context.status.post.processing = false;\n            context.status.post.text = \"Done!\";\n          }\n        }\n      } catch (error) {\n        context.status.post.text = \"Error!\";\n        context.status.post.processing = false;\n        context.status.post.isDone = true;\n      } finally {\n        context.completed = [...context.completed, \"post\"];\n      }\n    },\n    generateReportCustomPostTypes: async (context) => {\n      try {\n        context.status.cpts.processing = true;\n        context.status.cpts.isDone = false;\n        let isDone = context.status.cpts.isDone;\n        let page = context.status.cpts.page;\n        let counter = 0;\n        while (!isDone) {\n          const query = `?page=${page}`;\n          const result = await getCustomPostTypes(context.url, query);\n          counter += result?.urls.length;\n          context.status.cpts.text = `${counter} out of ${result?.totalEntries}`;\n          context.status.cpts.totalPages = result?.totalPages;\n          context.status.cpts.totalEntries = result?.totalEntries;\n          const params = `strategy=${\n            context.device\n          }&category=${context.category.join(\"&category=\")}`;\n          const scores = await pageSpeed(result?.urls, params);\n          context.pagespeedResults = [...context.pagespeedResults, ...scores];\n\n          context.totalLinks += result?.urls.length;\n          // console.log(context.pagespeedResults);\n          if (page < parseInt(result?.totalPages)) {\n            context.status.cpts.page += 1;\n            page += 1;\n          } else {\n            isDone = true;\n            context.status.cpts.isDone = true;\n            context.status.cpts.processing = false;\n            context.status.cpts.text = \"Done!\";\n          }\n        }\n      } catch (error) {\n        context.status.cpts.text = \"Error!\";\n        context.status.cpts.processing = false;\n        context.status.cpts.isDone = true;\n      } finally {\n        context.completed = [...context.completed, \"custom_post_type\"];\n      }\n    }\n  },\n  callbacks: {\n    setUrl: () => {\n      const context = getContext();\n      const { ref } = getElement();\n      context.url = ref.value;\n    },\n    setOptions: () => {\n      const context = getContext();\n      const { post_types, category } = context;\n      const { ref } = getElement();\n\n      switch (ref.name) {\n        case \"device\":\n          context.device = ref.value;\n          break;\n        case \"post_types\":\n          if (!post_types.includes(ref.value)) {\n            context.post_types.push(ref.value);\n          } else {\n            context.post_types.splice(post_types.indexOf(ref.value), 1);\n          }\n          break;\n        case \"category\":\n          if (!category.includes(ref.value)) {\n            context.category.push(ref.value);\n          } else {\n            context.category.splice(category.indexOf(ref.value), 1);\n          }\n          break;\n        default:\n          break;\n      }\n    },\n    isUrlValid: () => {\n      try {\n        const context = getContext();\n        const pattern = new RegExp(\n          \"^([a-zA-Z]+:\\\\/\\\\/)?\" + // protocol\n            \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // domain name\n            \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR IP (v4) address\n            \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\n            \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\n            \"(\\\\#[-a-z\\\\d_]*)?$\", // fragment locator\n          \"i\"\n        );\n        return pattern.test(context.url);\n      } catch (error) {\n        return false;\n      }\n    },\n    getDomainNameFromUrl: () => {\n      const context = getContext();\n      const host = new URL(context.url).host;\n      return host;\n    },\n    sortPerformance: () => {\n      const context = getContext();\n      context.pagespeedResults = context.pagespeedResults.sort((a, b) => {\n        return state.performanceSorted\n          ? b?.performance - a?.performance\n          : a?.performance - b?.performance;\n      });\n      state.performanceSorted = !state.performanceSorted;\n    },\n    sortAccessibility: () => {\n      const context = getContext();\n      context.pagespeedResults = context.pagespeedResults.sort((a, b) => {\n        return state.accessibilitySorted\n          ? b?.accessibility - a?.accessibility\n          : a?.accessibility - b?.accessibility;\n      });\n      state.accessibilitySorted = !state.accessibilitySorted;\n    },\n    sortBestPractices: () => {\n      const context = getContext();\n      context.pagespeedResults = context.pagespeedResults.sort((a, b) => {\n        return state.bestPracticesSorted\n          ? b?.best_practices - a?.best_practices\n          : a?.best_practices - b?.best_practices;\n      });\n      state.bestPracticesSorted = !state.bestPracticesSorted;\n    },\n    sortSeo: () => {\n      const context = getContext();\n      context.pagespeedResults = context.pagespeedResults.sort((a, b) => {\n        return state.seoSorted ? b?.seo - a?.seo : a?.seo - b?.seo;\n      });\n      state.seoSorted = !state.seoSorted;\n    },\n    downloadCSV: () => {\n      const context = getContext();\n      if (context.pagespeedResults.length <= 0)\n        alert(\"Please generate a report first.\");\n\n      const titleKeys = Object.keys(context.pagespeedResults[0]);\n\n      const refinedData = [];\n      refinedData.push(titleKeys);\n\n      context.pagespeedResults.forEach((item) => {\n        refinedData.push(Object.values(item));\n      });\n      let csvContent = \"\";\n\n      refinedData.forEach((row) => {\n        csvContent += row.join(\",\") + \"\\n\";\n      });\n\n      const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8,\" });\n      const objUrl = URL.createObjectURL(blob);\n\n      const link = document.createElement(\"a\");\n      link.setAttribute(\"href\", objUrl);\n      link.setAttribute(\n        \"download\",\n        `Pagespeed report for ${callbacks.getDomainNameFromUrl()} - ${new Date().toLocaleString()}.csv`\n      );\n      link.click();\n    },\n    resetValues: (context) => {\n      context.pagespeedResults = [];\n      context.completed = [];\n      context.totalLinks = 0;\n      context.status = {\n        page: {\n          text: \"Waiting...\",\n          page: 1,\n          totalPages: 1,\n          totalEntries: 0,\n          isDone: false,\n          processing: false\n        },\n        post: {\n          text: \"Waiting...\",\n          page: 1,\n          totalPages: 1,\n          totalEntries: 0,\n          isDone: false,\n          processing: false\n        },\n        cpts: {\n          text: \"Waiting...\",\n          page: 1,\n          totalPages: 1,\n          totalEntries: 0,\n          isDone: false,\n          processing: false\n        }\n      };\n    }\n  }\n});\n"],"names":["pageSpeed","urls","params","promises","map","url","report","fetch","then","response","json","data","lighthouseResult","categories","performance","score","Math","round","accessibility","best_practices","seo","Promise","all","error","console","log","getPages","ok","Error","page","link","totalPages","headers","get","totalEntries","getPosts","getCustomPostTypes","store","getContext","getElement","state","actions","callbacks","performanceSorted","accessibilitySorted","bestPracticesSorted","seoSorted","isNotEmpty","pagespeedResults","length","isReportComplete","JSON","stringify","post_types","sort","completed","isPageSelected","includes","isPostSelected","isCptsSelected","isPerformanceSelected","category","isAccessibility","isBestPracticesSelected","isSeoSelected","getPageProgressPercentage","context","progress","status","text","getPostProgressPercentage","post","getCptsProgressPercentage","cpts","submit","resetValues","alert","isUrlValid","processing","submitBtnText","generateReportPages","generateReportPosts","generateReportCustomPostTypes","isDone","counter","query","result","device","join","scores","totalLinks","parseInt","setUrl","ref","value","setOptions","name","push","splice","indexOf","pattern","RegExp","test","getDomainNameFromUrl","host","URL","sortPerformance","a","b","sortAccessibility","sortBestPractices","sortSeo","downloadCSV","titleKeys","Object","keys","refinedData","forEach","item","values","csvContent","row","blob","Blob","type","objUrl","createObjectURL","document","createElement","setAttribute","Date","toLocaleString","click"],"sourceRoot":""}